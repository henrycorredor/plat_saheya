<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:;base64,=">
    <title>Listar usuarios</title>
</head>

<body>
    <div id="contenedor">
        cargando...
    </div>
    <script>
        const contenedor = document.getElementById('contenedor')
        fetch('/api/listar')
            .then(async res => {
               if (res.ok) {
                   const elDato = await res.json()
                   renderizar(elDato.body)
               }    
            })
            .catch(err => {
                contenedor.innerText = `Problema: ${err}`
            })

        function renderizar(datos) {
            const lista = document.createElement('ul')
            datos.map((dato) => {
                const elemento = document.createElement('li')
                const texto = `Nombre: ${dato.nombre}, Contrase√±a: ${dato.contrasenia}`
                elemento.innerText = texto
                lista.appendChild(elemento)
            })
            contenedor.innerText = ""
            contenedor.appendChild(lista)
        }
    </script>
</body>

</html>